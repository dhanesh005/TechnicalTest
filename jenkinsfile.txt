node{
	stage('Git Cloning'){
		git 'https://github.com/kuberguy/helloworld'
	}
	stage('Maven build'){
		def MavenHome = tool name: 'Maven3', type: 'maven'
		def MavenCmd = "${MavenHome}/bin/mvn"
		bat "${MavenCmd} clean install package"
	}
	stage('Build Docker Image'){
		bat "docker build -t dhanesh007/my-docker:1.0 ."
	}
	stage('Push Image to Docker Hub'){
		withCredentials([string(credentialsId: 'DockerCredentials', variable: 'DockerCredentials')]) {
		bat "docker login -u dhanesh007 -p ${DockerCredentials}"
	}
		bat "docker push dhanesh007/my-docker:1.0"
	}
}